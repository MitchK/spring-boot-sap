<!DOCTYPE html>
<html lang="en" ng-app="messageBoard">
<head>
    <meta charset="UTF-8">
    <title>Demo page</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
</head>
<body ng-controller="DemoCtrl">

<form action="#" ng-submit="submit()">
    <input ng-model="input" value="text" autofocus>
    <input type="submit">
</form>

<p ng-repeat="entry in texts | orderBy:id : true">
    {{entry.text}}
</p>


</body>

<script>
    var demoApp = angular.module('messageBoard', []);
    demoApp.controller('DemoCtrl', function ($scope, $http) {
        function load() {
            // Initialize fields.
            $http.get("rest/text").success(function (data) {
                $scope.texts = data;
            });
        }

        $scope.submit = function () {
            var input = $scope.input;
            if (input == '') {
                return;
            }
            console.log(input);
            $http.post("rest/text?text=" + encodeURI(input), {}).success(function () {
                load();
            });
            $scope.input = '';
        };

        // Initial loading.
        load();
    });
</script>
</html>